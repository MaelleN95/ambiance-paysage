<div data-controller="before-after-photo" class="before-after-photo">
    <div class="before-after-photo-overlay" data-before-after-photo-target="overlay">
        <img src="{{ asset('images/avant.jpg') }}" class="before-after-photo-img before-img">
    </div>

    <img src="{{ asset('images/apres.jpg') }}" class="before-after-photo-img after-img">


    <div class="before-after-photo-handle" data-before-after-photo-target="handle">
        <div class="before-after-photo-line"></div>
        <div class="before-after-photo-arrows">
            <svg xmlns="http://www.w3.org/2000/svg" width="800px" height="800px" viewBox="0 0 24 24" fill="none">
                <path fill-rule="evenodd" clip-rule="evenodd" d="M14.5858 5.29291C14.1953 5.68343 14.1953 6.3166 14.5858 6.70712L19.8787 12L14.5858 17.2929C14.1953 17.6834 14.1953 18.3166 14.5858 18.7071L15.2929 19.4142C15.6834 19.8048 16.3166 19.8048 16.7071 19.4142L23.0607 13.0607C23.6464 12.4749 23.6464 11.5251 23.0607 10.9394L16.7071 4.5858C16.3166 4.19528 15.6834 4.19528 15.2929 4.5858L14.5858 5.29291Z" fill="#ffffffff"/>
                <path fill-rule="evenodd" clip-rule="evenodd" d="M9.41421 5.29291C9.80474 5.68343 9.80474 6.3166 9.41421 6.70712L4.12132 12L9.41421 17.2929C9.80474 17.6834 9.80474 18.3166 9.41421 18.7071L8.70711 19.4142C8.31658 19.8048 7.68342 19.8048 7.29289 19.4142L0.93934 13.0607C0.353553 12.4749 0.353553 11.5251 0.93934 10.9394L7.29289 4.5858C7.68342 4.19528 8.31658 4.19528 8.70711 4.5858L9.41421 5.29291Z" fill="#ffffffff"/>
            </svg>
        </div>
    </div>
</div>




<style>

.before-after-photo {
    position: relative;
    width: 700px;
    aspect-ratio: 16 / 9;
    overflow: hidden;
    user-select: none;
}

.before-after-photo-img {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    max-width: 700px;
    object-fit: cover;
}

.before-after-photo-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    overflow: hidden;
    z-index: 1;
    
    clip-path: polygon(
    0% 0%,
    100% 0%,
    80% 100%,
    0% 100%
    );
}


.before-after-photo-overlay .before-img {
    position: absolute;
    top: 0;
    left: 0;
    width: 700px;
    height:auto;
    object-fit: cover;
}

.before-after-photo-handle {
    position: absolute;
    top: 0;
    left: calc(var(--overlay-width) - 0px);
    transform: translateX(-50%);
    height: 100%;
    cursor: ew-resize;
    z-index: 2;
}

.before-after-photo-line {
    position: absolute;
    top: 0;
    left: calc(50% - 50px);
    width: 100px;
    height: 100%;
    z-index: 2;
    
}

.before-after-photo-line {
    position: absolute;
    top: 0;
    left: 50%;
    width: 2px;
    height: 100%;
    background-color: #ffffff;  

}

.before-after-photo-arrows {
    position: absolute;
    top: 50%;
    left: 50%;
    z-index: 3;
}

.before-after-photo-arrows svg {
    position: absolute;
    width: 40px;
    height: 40px;
    transform: translate(-50%, -50%);
    z-index: 4;
}

</style>